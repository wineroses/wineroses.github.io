<head>
<title>Obsidian Location</title>
</head>
<body>
Obsidianに現在地を送信します。
<script>
function success(position) {
  var latitude = position.coords.latitude
  var longitude = position.coords.longitude
  var content = `---\ncoordinates: \n - "${latitude}"\n - "${longitude}"\nicon: "landmark"\ncolor: "red"\ntags:\n  - places\n---\n`
  location = `obsidian://new?content=${encodeURIComponent(content)}`
}

function error(error) {
  var errorMessage = `エラーコード: ${error.code}\nエラーメッセージ: ${error.message}`
  alert(errorMessage)
}

navigator.geolocation.getCurrentPosition(success, error)

</script>
</body>
